<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>í…Œë¼í¼ ë°°ìš°ê¸° | ì•¤ë””  ë¸”ë¡œê·¸ (ë¸”ë¡œê·¸ ê³µì‚¬ì¤‘)ğŸš§</title><meta name="description" content="ì•ˆë…•í•˜ì„¸ìš”! ë°ì´í„° ì—”ì§€ë‹ˆì–´ ì•¤ë””ì…ë‹ˆë‹¤.">
    <link rel="preload" href="/assets/style-DzLoKC0N.css" as="style"><link rel="stylesheet" href="/assets/style-DzLoKC0N.css">
    <link rel="modulepreload" href="/assets/app-DX7et0cg.js"><link rel="modulepreload" href="/assets/2025-03-08-terraform.html-CWL7Tnh0.js">
    <link rel="prefetch" href="/assets/index.html-DZPK0RlX.js" as="script"><link rel="prefetch" href="/assets/index.html-U4F-7QNV.js" as="script"><link rel="prefetch" href="/assets/index.html-DtzEO2lH.js" as="script"><link rel="prefetch" href="/assets/index.html-CiPZtr_I.js" as="script"><link rel="prefetch" href="/assets/2025-02-08-whatiswork.html-p88pFnkD.js" as="script"><link rel="prefetch" href="/assets/2025-02-11-kafka.html-CdM5apAi.js" as="script"><link rel="prefetch" href="/assets/2025-02-16-object.html-2IIiJut8.js" as="script"><link rel="prefetch" href="/assets/2025-03-03-skilloflove.html-B5Podra-.js" as="script"><link rel="prefetch" href="/assets/2025-03-09-software.html-CT7CYydD.js" as="script"><link rel="prefetch" href="/assets/2025-02-07-ze.html-e2P7G4fL.js" as="script"><link rel="prefetch" href="/assets/2025-02-10-firstlog.html-DRNG96hT.js" as="script"><link rel="prefetch" href="/assets/2025-02-14-log.html-DVNur68s.js" as="script"><link rel="prefetch" href="/assets/2025-02-23-anna.html-Bx7CjvR-.js" as="script"><link rel="prefetch" href="/assets/2025-03-02-bystander.html-_hseNBwt.js" as="script"><link rel="prefetch" href="/assets/2025-02-25-aws.html-DLovDSlB.js" as="script"><link rel="prefetch" href="/assets/2025-03-13-aws.html-BuqbrAtO.js" as="script"><link rel="prefetch" href="/assets/index.html-B6Pl9-vn.js" as="script"><link rel="prefetch" href="/assets/2025-02-03-post.html-CtyWYDwh.js" as="script"><link rel="prefetch" href="/assets/index.html-Dj2OwyTj.js" as="script"><link rel="prefetch" href="/assets/2025-02-01-post.html-o7cE0Bl1.js" as="script"><link rel="prefetch" href="/assets/2025-02-02-post.html-dE-NNCG1.js" as="script"><link rel="prefetch" href="/assets/2025-02-13-security.html-BLaePS4V.js" as="script"><link rel="prefetch" href="/assets/index.html-Dn3JHjsK.js" as="script"><link rel="prefetch" href="/assets/404.html-DPFF3HyP.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BoyQvZeQ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name" aria-hidden="true">ì•¤ë””  ë¸”ë¡œê·¸ (ë¸”ë¡œê·¸ ê³µì‚¬ì¤‘)ğŸš§</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="ê¸€"><span class="title">ê¸€</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="ê¸€"><span class="title">ê¸€</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/posts/" aria-label="ëª¨ë‘"><!--[--><!--[--><!--]--><!--]-->ëª¨ë‘<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/posts/kafka/" aria-label="ì¹´í”„ì¹´"><!--[--><!--[--><!--]--><!--]-->ì¹´í”„ì¹´<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/posts/spring/" aria-label="ìŠ¤í”„ë§"><!--[--><!--[--><!--]--><!--]-->ìŠ¤í”„ë§<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/posts/cloud/" aria-label="í´ë¼ìš°ë“œ"><!--[--><!--[--><!--]--><!--]-->í´ë¼ìš°ë“œ<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/books/" aria-label="ì±…"><!--[--><!--[--><!--]--><!--]-->ì±…<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/logs/" aria-label="ì§§ì€ ê¸€"><!--[--><!--[--><!--]--><!--]-->ì§§ì€ ê¸€<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="ê¸€"><span class="title">ê¸€</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="ê¸€"><span class="title">ê¸€</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/posts/" aria-label="ëª¨ë‘"><!--[--><!--[--><!--]--><!--]-->ëª¨ë‘<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/posts/kafka/" aria-label="ì¹´í”„ì¹´"><!--[--><!--[--><!--]--><!--]-->ì¹´í”„ì¹´<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/posts/spring/" aria-label="ìŠ¤í”„ë§"><!--[--><!--[--><!--]--><!--]-->ìŠ¤í”„ë§<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/posts/cloud/" aria-label="í´ë¼ìš°ë“œ"><!--[--><!--[--><!--]--><!--]-->í´ë¼ìš°ë“œ<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/books/" aria-label="ì±…"><!--[--><!--[--><!--]--><!--]-->ì±…<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/logs/" aria-label="ì§§ì€ ê¸€"><!--[--><!--[--><!--]--><!--]-->ì§§ì€ ê¸€<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">í…Œë¼í¼ ë°°ìš°ê¸° <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#iac-á„‹á…ª-á„á…¦á„…á…¡á„‘á…©á†·" aria-label="IaC ì™€ í…Œë¼í¼"><!--[--><!--[--><!--]--><!--]-->IaC ì™€ í…Œë¼í¼<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#á„€á…µá„‡á…©á†«-á„‰á…¡á„‹á…­á†¼á„‡á…¥á†¸" aria-label="ê¸°ë³¸ ì‚¬ìš©ë²•"><!--[--><!--[--><!--]--><!--]-->ê¸°ë³¸ ì‚¬ìš©ë²•<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#variable" aria-label="Variable"><!--[--><!--[--><!--]--><!--]-->Variable<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#validation" aria-label="validation"><!--[--><!--[--><!--]--><!--]-->validation<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#á„‡á…§á†«á„‰á…®-á„‹á…®á„‰á…¥á†«-á„‰á…®á†«á„‹á…±" aria-label="ë³€ìˆ˜ ìš°ì„  ìˆœìœ„"><!--[--><!--[--><!--]--><!--]-->ë³€ìˆ˜ ìš°ì„  ìˆœìœ„<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#local" aria-label="local"><!--[--><!--[--><!--]--><!--]-->local<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#output" aria-label="output"><!--[--><!--[--><!--]--><!--]-->output<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#for" aria-label="for"><!--[--><!--[--><!--]--><!--]-->for<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#á„’á…¡á†·á„‰á…®" aria-label="í•¨ìˆ˜"><!--[--><!--[--><!--]--><!--]-->í•¨ìˆ˜<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#á„‘á…³á„…á…©á„‡á…µá„Œá…¥á„‚á…¥" aria-label="í”„ë¡œë¹„ì €ë„ˆ"><!--[--><!--[--><!--]--><!--]-->í”„ë¡œë¹„ì €ë„ˆ<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="#moved" aria-label="Moved"><!--[--><!--[--><!--]--><!--]-->Moved<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#á„‘á…³á„…á…©á„‡á…¡á„‹á…µá„ƒá…¥" aria-label="í”„ë¡œë°”ì´ë”"><!--[--><!--[--><!--]--><!--]-->í”„ë¡œë°”ì´ë”<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#á„‘á…³á„…á…©á„‡á…¡á„‹á…µá„ƒá…¥á„‹á…´-á„ƒá…¡á„Œá…®á†¼-á„Œá…¥á†¼á„‹á…´" aria-label="í”„ë¡œë°”ì´ë”ì˜ ë‹¤ì¤‘ ì •ì˜"><!--[--><!--[--><!--]--><!--]-->í”„ë¡œë°”ì´ë”ì˜ ë‹¤ì¤‘ ì •ì˜<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#state" aria-label="State"><!--[--><!--[--><!--]--><!--]-->State<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#á„‹á…¯á„á…³á„‰á…³á„‘á…¦á„‹á…µá„‰á…³" aria-label="ì›Œí¬ìŠ¤í˜ì´ìŠ¤"><!--[--><!--[--><!--]--><!--]-->ì›Œí¬ìŠ¤í˜ì´ìŠ¤<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item" href="#á„†á…©á„ƒá…²á†¯" aria-label="ëª¨ë“ˆ"><!--[--><!--[--><!--]--><!--]-->ëª¨ë“ˆ<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#á„†á…©á„ƒá…²á†¯-á„‰á…¡á„‹á…­á†¼-á„‡á…¡á†¼á„‰á…µá†¨" aria-label="ëª¨ë“ˆ ì‚¬ìš© ë°©ì‹"><!--[--><!--[--><!--]--><!--]-->ëª¨ë“ˆ ì‚¬ìš© ë°©ì‹<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="#á„†á…©á„ƒá…²á†¯á„€á…ª-á„‘á…³á„…á…©á„‡á…¡á„‹á…µá„ƒá…¥" aria-label="ëª¨ë“ˆê³¼ í”„ë¡œë°”ì´ë”"><!--[--><!--[--><!--]--><!--]-->ëª¨ë“ˆê³¼ í”„ë¡œë°”ì´ë”<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><p>ì²˜ìŒ AWS ë¥¼ ë°°ìš¸ ë•Œ í´ë¼ìš°ë“œëŠ” ë‚˜ì—ê²Œ ë¯¸ì§€ì˜ ì˜ì—­ì´ì—ˆê³  ê¹Šì€ ì•ˆê°œ ì†ì— ìˆì—ˆë‹¤. ê·¸ëŸ° ì ì—ì„œ í…Œë¼í¼ì„ ì²˜ìŒ ì ‘í–ˆì„ ë•ŒëŠ” ë†€ë¼ì› ë‹¤. ì˜ ì‘ì„±ëœ tf íŒŒì¼ í•˜ë‚˜ë©´ aws ì½˜ì†”ì— ì ‘ê·¼í•  í•„ìš”ì—†ì´ ëª‡ ë¶„ì´ë©´ ì„œë²„ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•  ìˆ˜ ìˆë‹¤. í…Œë¼í¼ì„ ê¹Šê²Œ ë°°ì›Œì„œ ì—…ë¬´ì— ì ìš©í•˜ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ê°•í•˜ê²Œ ë“¤ì—ˆê³  ì§€ê¸ˆë„ ì¡°ê¸ˆì”© ë°°ìš°ë©° ì ìš©í•˜ê³  ìˆë‹¤.</p><!----><blockquote><p>[!NOTE]<br> ì±… ì „ì²´ê°€ ì•„ë‹Œ í•„ìš”í•œ(ëª¨ë¥´ëŠ”) ë¶€ë¶„ë§Œ ì •ë¦¬í•¨</p></blockquote><h1 id="iac-á„‹á…ª-á„á…¦á„…á…¡á„‘á…©á†·" tabindex="-1"><a class="header-anchor" href="#iac-á„‹á…ª-á„á…¦á„…á…¡á„‘á…©á†·"><span>IaC ì™€ í…Œë¼í¼</span></a></h1><p>IaC ë„ì…ì˜ ê¸ì •ì ì¸ ì¸¡ë©´ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>ì†ë„ì™€ íš¨ìœ¨ì„±</li><li>ë²„ì „ ê´€ë¦¬</li><li>í˜‘ì—…</li><li>ì¬ì‚¬ìš©ì„±</li><li>ê¸°ìˆ ì˜ ìì‚°í™”</li></ul><h1 id="á„€á…µá„‡á…©á†«-á„‰á…¡á„‹á…­á†¼á„‡á…¥á†¸" tabindex="-1"><a class="header-anchor" href="#á„€á…µá„‡á…©á†«-á„‰á…¡á„‹á…­á†¼á„‡á…¥á†¸"><span>ê¸°ë³¸ ì‚¬ìš©ë²•</span></a></h1><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">resource &quot;local_file&quot; &quot;abc&quot; {</span>
<span class="line">    content = &quot;Hello, World!&quot;</span>
<span class="line">    filename = &quot;${path.module}/hello.txt&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ë¦¬ì†ŒìŠ¤ ì‚­ì œ í›„ ìƒì„± (ëŒ€ì²´) <ul><li><code>terraform apply -replace=local_file.abc</code></li></ul></li><li>ìŠ¹ì¸ ì ˆì°¨ ì—†ëŠ” apply <ul><li><code>terraform apply --auto-approve</code></li></ul></li><li>lifecycle ì¢…ë¥˜ <ul><li>create_before_destory (bool) : ë¦¬ì†ŒìŠ¤ ìˆ˜ì • ì‹œ ì‹ ê·œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš°ì„  ìƒì„±í•˜ê³  ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì‚­ì œ</li><li>prevent_destroy (bool) : í•´ë‹¹ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚­ì œí•˜ë ¤ í•  ë•Œ ëª…ì‹œì ìœ¼ë¡œ ê±°ë¶€(ì˜¤ë¥˜)</li><li>ignore_changes (list) : ë¦¬ì†ŒìŠ¤ ìš”ì†Œì— ì„ ì–¸ëœ ì¸ìˆ˜ì˜ ë³€ê²½ì‚¬í•­ì„ í…Œë¼í¼ ì‹¤í–‰ ì‹œ ë¬´ì‹œ</li><li>precondition : ë¦¬ì†ŒìŠ¤ ìš”ì†Œì— ì„ ì–¸ëœ ì¸ìˆ˜ì˜ ì¡°ê±´ì„ ê²€ì¦</li><li>postcondition : Plan ê³¼ Apply ì´í›„ì˜ ê²°ê³¼ë¥¼ ì†ì„± ê°’ìœ¼ë¡œ ê²€ì¦</li></ul></li></ul><h2 id="variable" tabindex="-1"><a class="header-anchor" href="#variable"><span>Variable</span></a></h2><h3 id="validation" tabindex="-1"><a class="header-anchor" href="#validation"><span>validation</span></a></h3><p>ë³€ìˆ˜ëŠ” validation ìœ¼ë¡œ ìœ íš¨ì„±ì„ ê²€ì‚¬í•  ìˆ˜ ìˆë‹¤. ì¤‘ë³µìœ¼ë¡œ ì„ ì–¸ ê°€ëŠ¥í•˜ë‹¤.</p><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">variable &quot;image_id&quot; {</span>
<span class="line">  type        = string</span>
<span class="line">  description = &quot;The ID of the AMI to use for the instance&quot;</span>
<span class="line">  default     = &quot;ami-0c55b159cbfafe1f0&quot;</span>
<span class="line"></span>
<span class="line">  validation {</span>
<span class="line">    condition     = length(var.image_id) &gt; 4</span>
<span class="line">    error_message = &quot;The image ID must be at least 4 characters long.&quot;</span>
<span class="line">  }</span>
<span class="line"></span>
<span class="line">  validation {</span>
<span class="line">    condition     = can(regex(&quot;^ami-&quot;, var.image_id))</span>
<span class="line">    error_message = &quot;The image ID must start with &#39;ami-&#39;.&quot;</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="á„‡á…§á†«á„‰á…®-á„‹á…®á„‰á…¥á†«-á„‰á…®á†«á„‹á…±" tabindex="-1"><a class="header-anchor" href="#á„‡á…§á†«á„‰á…®-á„‹á…®á„‰á…¥á†«-á„‰á…®á†«á„‹á…±"><span>ë³€ìˆ˜ ìš°ì„  ìˆœìœ„</span></a></h3><p>ìˆ«ìê°€ í´ìˆ˜ë¡ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŒ</p><ol><li><p>ì‹¤í–‰ í›„ ì…ë ¥ (ë³€ìˆ˜ì— ê°’ì´ ì„ ì–¸ë˜ì§€ ì•Šã…‡ë‚˜ cli ì—ì„œ ì…ë ¥)</p></li><li><p>variable ë¸”ë¡ì˜ default ê°’</p></li><li><p>í™˜ê²½ë³€ìˆ˜ (TF_VAR_ë³€ìˆ˜ëª…)</p></li><li><p>terraform.tfvars ì— ì •ì˜ëœ ë³€ìˆ˜</p></li><li><p>*.auto.tfvars ì— ì •ì˜ëœ ë³€ìˆ˜</p></li><li><p>*.auto.tfvars.json ì— ì •ì˜ëœ ë³€ìˆ˜</p></li><li><p>CLI ì‹¤í–‰ ì‹œ -var ì¸ìˆ˜ ì§€ì • ë˜ëŠ” -var-file ì§€ì •</p><ul><li><p>terraform plan -var=&quot;my_var=var&quot; -var-file=&quot;var9.txt&quot;</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">//var9.txt</span>
<span class="line">my_var = &quot;var9&quot;  </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol><h2 id="local" tabindex="-1"><a class="header-anchor" href="#local"><span>local</span></a></h2><p>local ê°’ì€ ì™¸ë¶€ì—ì„œ ì…ë ¥ë˜ì§€ ì•Šê³  ì½”ë“œ ë‚´ì—ì„œë§Œ ê°€ê³µë˜ê³  ë™ì‘í•œë‹¤. ì„ ì–¸ëœ ëª¨ë“ˆ ë‚´ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.</p><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">variable &quot;prefix&quot; {</span>
<span class="line">    default = &quot;hello&quot;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">locals {</span>
<span class="line">    name = &quot;terraform&quot;</span>
<span class="line">    content = &quot;${var.prefix}-${local.name}&quot;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">resource &quot;local_file&quot; &quot;local_file&quot; {</span>
<span class="line">    content = local.content</span>
<span class="line">    filename = &quot;${path.module}/hellolocal.txt&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="output" tabindex="-1"><a class="header-anchor" href="#output"><span>output</span></a></h2><p>ìë°”ì˜ getter ì™€ ë¹„ìŠ·í•œ ì—­í• ë¡œ ëª¨ë“ˆì˜ ì¸í„°í˜ì´ìŠ¤ë‹¤. ì¶œë ¥ ê°’ì˜ ìš©ë„ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>ë£¨íŠ¸ ëª¨ë“ˆì—ì„œ ì‚¬ìš©ìê°€ í™•ì¸í•˜ê³  í•˜ëŠ” íŠ¹ì • ì†ì„± ì¶œë ¥</li><li>ì£ê¸° ëª¨ë“ˆì˜ íŠ¹ì • ê°’ì„ ì •ì˜í•˜ê³  ë£¨íŠ¸ ëª¨ë“ˆì—ì„œ ê²°ê³¼ë¥¼ ì°¸ì¡°</li><li>ì„œë¡œ ë‹¤ë¥¸ ë£¨íŠ¸ ëª¨ë“ˆì˜ ê²°ê³¼ë¥¼ ì›ê²©ìœ¼ë¡œ ì½ê¸° ìœ„í•œ ì ‘ê·¼ ìš”ì†Œ</li></ul><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">resource &quot;local_file&quot; &quot;abcd&quot; {</span>
<span class="line">    content = &quot;hello&quot;</span>
<span class="line">    filename = &quot;${path.module}/abcd.txt&quot;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;abcd_content&quot; {</span>
<span class="line">    value = local_file.abcd.content</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;abcd_abspath&quot; {</span>
<span class="line">    value = abspath(local_file.abcd.filename)</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;abcd_id&quot; {</span>
<span class="line">    value = local_file.abcd.id</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="for" tabindex="-1"><a class="header-anchor" href="#for"><span>for</span></a></h2><p>for êµ¬ë¬¸ì˜ ê·œì¹™</p><ul><li>list ëŠ” ë°˜í™˜ ë°›ëŠ” ê°’ì´ í•˜ë‚˜ë¡œ ë˜ì–´ìˆìœ¼ë©´ ê°’ì„, ë‘ ê°œì¸ ê²½ìš° ì•ì˜ ì¸ìˆ˜ê°€ ì¸ë±ìŠ¤ë¥¼ ë°˜í™˜í•˜ê³  ë’¤ì˜ ì¸ìˆ˜ê°€ ê°’ì„ ë°˜í™˜ (ê´€ìš©ì ìœ¼ë¡œ i, v)</li><li>map ìœ í˜•ì€ ë°˜í™˜ë°›ëŠ” ê°’ì´ í•˜ë‚˜ë¡œ ë˜ì–´ìˆìœ¼ë©´ í‚¤ë¥¼, ë‘ ê°œì¸ ê²½ìš° ì•ì˜ ì¸ìˆ˜ê°€ í‚¤, ë’¤ì˜ ì¸ìˆ˜ê°€ ê°’ì„ ë°˜í™˜ (ê´€ìš©ì ìœ¼ë¡œ k, v)</li><li>ê²°ê³¼ ê°’ì€ for ë¬¸ì„ ë¬¶ëŠ” ê¸°íšŒê°€ [ ] ì¸ ê²½ìš° tuple ë¡œ ë°˜í™˜ë˜ê³  { } ì¸ ê²½ìš° object í˜•íƒœë¡œ ë°˜í™˜</li><li>object í˜•íƒœì˜ ê²½ìš° í‚¤ ê°’ì— ëŒ€í•œ ìŒì€ =&gt; ê¸°í˜¸ë¡œ êµ¬ë¶„</li><li>{ } í˜•ì‹ì„ ì‚¬ìš©í•´ object í˜•íƒœë¡œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ê²½ìš° í‚¤ ê°’ì€ ê³ ìœ í•´ì•¼ í•˜ë¯€ë¡œ ê°’ ë’¤ì— ê·¸ë£¹í™” ëª¨ë“œ ì‹¬ë³¼ (...)ì„ ë¶™ì—¬ì„œ í‚¤ì˜ ì¤‘ë³µì„ ë°©ì§€</li><li>if êµ¬ë¬¸ì„ ì¶”ê°€í•´ ì¡°ê±´ ë¶€ì—¬ ê°€ëŠ¥</li></ul><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">variable &quot;names&quot; {</span>
<span class="line">    type = list(string)</span>
<span class="line">    default = [&quot;alice&quot;, &quot;bob&quot;, &quot;charlie&quot;]</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;A_uuper_values&quot; {</span>
<span class="line">    value = [for v in var.names : upper(v)]</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;B_index_and_value&quot; {</span>
<span class="line">    value = [for i, v in var.names : &quot;${i} : ${v}&quot;]</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;C_make_object&quot; {</span>
<span class="line">    value = {for v in var.names : v =&gt; upper(v)}</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;D_with_filter&quot; {</span>
<span class="line">    value = {for v in var.names : v =&gt; upper(v) if v != &quot;bob&quot;}</span>
<span class="line">}</span>
<span class="line">  </span>
<span class="line">variable &quot;members&quot; {</span>
<span class="line">  type = map(object({</span>
<span class="line">      role = string</span>
<span class="line">      age = number</span>
<span class="line">  }))</span>
<span class="line">  default = {</span>
<span class="line">      alice = {role = &quot;admin&quot;, age = 20}</span>
<span class="line">      bob = {role = &quot;user&quot;, age = 25}</span>
<span class="line">      charlie = {role = &quot;user&quot;, age = 30}</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;E_to_tuple&quot; {</span>
<span class="line">    value = [for k, v in var.members : &quot;${k} : ${v.role}&quot;]</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;F_get_only_role&quot; {</span>
<span class="line">    value = {</span>
<span class="line">        for name, user in var.members : name =&gt; user.role</span>
<span class="line">        if user.role == &quot;admin&quot;</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line">  </span>
<span class="line"># output</span>
<span class="line">A_uuper_values = [</span>
<span class="line">  &quot;ALICE&quot;,</span>
<span class="line">  &quot;BOB&quot;,</span>
<span class="line">  &quot;CHARLIE&quot;,</span>
<span class="line">]</span>
<span class="line">B_index_and_value = [</span>
<span class="line">  &quot;0 : alice&quot;,</span>
<span class="line">  &quot;1 : bob&quot;,</span>
<span class="line">  &quot;2 : charlie&quot;,</span>
<span class="line">]</span>
<span class="line">C_make_object = {</span>
<span class="line">  &quot;alice&quot; = &quot;ALICE&quot;</span>
<span class="line">  &quot;bob&quot; = &quot;BOB&quot;</span>
<span class="line">  &quot;charlie&quot; = &quot;CHARLIE&quot;</span>
<span class="line">}</span>
<span class="line">D_with_filter = {</span>
<span class="line">  &quot;alice&quot; = &quot;ALICE&quot;</span>
<span class="line">  &quot;charlie&quot; = &quot;CHARLIE&quot;</span>
<span class="line">}</span>
<span class="line">E_to_tuple = [</span>
<span class="line">&quot;alice : admin&quot;,</span>
<span class="line">&quot;bob : user&quot;,</span>
<span class="line">&quot;charlie : user&quot;,</span>
<span class="line">]</span>
<span class="line">F_get_only_role = {</span>
<span class="line">&quot;alice&quot; = &quot;admin&quot;</span>
<span class="line">}</span>
<span class="line">G_age = {</span>
<span class="line">&quot;admin&quot; = [</span>
<span class="line">  &quot;alice&quot;,</span>
<span class="line">]</span>
<span class="line">&quot;user&quot; = [</span>
<span class="line">    &quot;bob&quot;,</span>
<span class="line">    &quot;charlie&quot;,</span>
<span class="line">  ]</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="á„’á…¡á†·á„‰á…®" tabindex="-1"><a class="header-anchor" href="#á„’á…¡á†·á„‰á…®"><span>í•¨ìˆ˜</span></a></h2><p><code>terraform console</code> ëª…ë ¹ì–´ë¡œ í•¨ìˆ˜ì˜ ë™ì‘ì„ ì½˜ì†”ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.</p><h2 id="á„‘á…³á„…á…©á„‡á…µá„Œá…¥á„‚á…¥" tabindex="-1"><a class="header-anchor" href="#á„‘á…³á„…á…©á„‡á…µá„Œá…¥á„‚á…¥"><span>í”„ë¡œë¹„ì €ë„ˆ</span></a></h2><p>í”„ë¡œë°”ì´ë”ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ì»¤ë§¨ë“œì™€ íŒŒì¼ ë³µì‚¬ê°™ì€ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ì¢…ë¥˜ë¡œëŠ” file, local-exec, remote-exec ê°€ ìˆë‹¤.</p><h2 id="moved" tabindex="-1"><a class="header-anchor" href="#moved"><span>Moved</span></a></h2><p>í…Œë¼í¼ì˜ state ì—ì„œ ë¦¬ì†ŒìŠ¤ ì£¼ì†Œì˜ ì´ë¦„ì´ ë³€ê²½ë˜ë©´ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ëŠ” ì‚­ì œë˜ê³  ìƒˆë¡œìš´ ë¦¬ì†ŒìŠ¤ê°€ ìƒì„±ëœë‹¤. í•˜ì§€ë§Œ ë¦¬ì†ŒìŠ¤ ì´ë¦„ì„ ë³€ê²½í•˜ë©´ì„œ í”„ë¡œë¹„ì €ë‹ëœ í™˜ê²½ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ê³ ì í•˜ë©´ moved ë¸”ë¡ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p><p><strong>ê¸°ì¡´ ì½”ë“œ</strong></p><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">resource &quot;local_file&quot; &quot;moved_file&quot; {</span>
<span class="line">    content = &quot;moved&quot;</span>
<span class="line">    filename = &quot;${path.module}/moved.txt&quot;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;moved_file_content&quot; {</span>
<span class="line">    value = local_file.moved_file.content</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ë³€ê²½ ì½”ë“œ</strong></p><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">resource &quot;local_file&quot; &quot;moved_file_b&quot; {</span>
<span class="line">    content = &quot;moved&quot;</span>
<span class="line">    filename = &quot;${path.module}/moved.txt&quot;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">moved {</span>
<span class="line">    from = local_file.moved_file</span>
<span class="line">    to = local_file.moved_file_b</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;moved_file_content&quot; {</span>
<span class="line">    value = local_file.moved_file_b.content</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="á„‘á…³á„…á…©á„‡á…¡á„‹á…µá„ƒá…¥" tabindex="-1"><a class="header-anchor" href="#á„‘á…³á„…á…©á„‡á…¡á„‹á…µá„ƒá…¥"><span>í”„ë¡œë°”ì´ë”</span></a></h1><h2 id="á„‘á…³á„…á…©á„‡á…¡á„‹á…µá„ƒá…¥á„‹á…´-á„ƒá…¡á„Œá…®á†¼-á„Œá…¥á†¼á„‹á…´" tabindex="-1"><a class="header-anchor" href="#á„‘á…³á„…á…©á„‡á…¡á„‹á…µá„ƒá…¥á„‹á…´-á„ƒá…¡á„Œá…®á†¼-á„Œá…¥á†¼á„‹á…´"><span>í”„ë¡œë°”ì´ë”ì˜ ë‹¤ì¤‘ ì •ì˜</span></a></h2><p>ë™ì¼í•œ í”„ë¡œë°”ì´ë”ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ ë‹¤ë¥¸ ì¡°ê±´ì„ ê°–ëŠ” ê²½ìš° ì•„ë˜ì™€ ê°™ì´ alias ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">provider &quot;aws&quot; {</span>
<span class="line">    region = &quot;us-east-1&quot;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">provider &quot;aws&quot; {</span>
<span class="line">    alias = &quot;seoul&quot;</span>
<span class="line">    region = &quot;ap-northeast-2&quot;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">resource &quot;aws_instance&quot; &quot;example&quot; {</span>
<span class="line">    provider = aws.seoul</span>
<span class="line">    ami = &quot;ami-0c55b159cbfafe1f0&quot;</span>
<span class="line">    instance_type = &quot;t2.micro&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="state" tabindex="-1"><a class="header-anchor" href="#state"><span>State</span></a></h1><h2 id="á„‹á…¯á„á…³á„‰á…³á„‘á…¦á„‹á…µá„‰á…³" tabindex="-1"><a class="header-anchor" href="#á„‹á…¯á„á…³á„‰á…³á„‘á…¦á„‹á…µá„‰á…³"><span>ì›Œí¬ìŠ¤í˜ì´ìŠ¤</span></a></h2><p>state ë¥¼ ê´€ë¦¬í•˜ëŠ” ë…¼ë¦¬ì ì¸ ê°€ìƒ ê³µê°„ì´ë‹¤. í…Œë¼í¼ êµ¬ì„± íŒŒì¼ì€ ë™ì¼í•˜ì§€ë§Œ ì‘ì—…ìëŠ” ì„œë¡œ ë‹¤ë¥¸ state ë¥¼ ê°–ëŠ” ì‹¤ì œ ëŒ€ìƒì„ í”„ë¡œë¹„ì €ë‹í•  ìˆ˜ ìˆë‹¤.</p><p><img src="/images/2025-03-08-terraform/image-20250309222039484.png" alt="image-20250309222039484"></p><p>terraform workspace list ë¡œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆë‹¤.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ terraform workspace list</span>
<span class="line">* default</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ì•„ë˜ ë¦¬ì†ŒìŠ¤ë¥¼ ë°°í¬í•˜ë©´ default ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— ë°°í¬ëœë‹¤.</p><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">resource &quot;aws_instance&quot; &quot;example&quot; {</span>
<span class="line">    provider = aws.seoul</span>
<span class="line">    ami = &quot;ami-08d0e13d30abef253&quot;</span>
<span class="line">    instance_type = &quot;t2.micro&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ê·¸ë¦¬ê³  terraform workspace new &lt;ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì´ë¦„&gt; ëª…ë ¹ìœ¼ë¡œ ìƒˆë¡œìš´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ terraform workspace new myworkspace1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ìƒˆë¡œìš´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ê°€ ìƒì„±ë˜ë©´ ë£¨íŠ¸ ëª¨ë“ˆ ë””ë ‰í† ë¦¬ì— terraform.tfstate.d ë””ë ‰í† ë¦¬ê°€ ìƒì„±ë˜ê³  í•˜ìœ„ì— myworkspace1 ì´ ìƒê¸´ë‹¤. í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ëŠ” show ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ terraform workspace show</span>
<span class="line">myworkspace1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ì´ ìƒíƒœì—ì„œ plan, apply ëŠ” ìƒˆë¡œìš´ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•œë‹¤. ê·¸ë¦¬ê³  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¦¬ì†ŒìŠ¤ ë¸”ë¡ ë‚´ì—ì„œ ì½ì„ ìˆ˜ ìˆë‹¤. ì•„ë˜ëŠ” workspace ê°€ default ì¼ ë•Œ 5ê°œ, ì•„ë‹ ë•Œ 1ê°œë§Œ ë°°í¬í•˜ëŠ” êµ¬ì„±ì´ë‹¤.</p><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">resource &quot;aws_instance&quot; &quot;example&quot; {</span>
<span class="line">    count = &quot;${terraform.workspace == &quot;default&quot; ? 5: 1}&quot;</span>
<span class="line">    provider = aws.seoul</span>
<span class="line">    ami = &quot;ami-08d0e13d30abef253&quot;</span>
<span class="line">    instance_type = &quot;t2.micro&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ë‹¤ì‹œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ë°”ê¾¼ë‹¤.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$ terraform workspace select default</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>apply, plan ì‹œì ì—ì„œ state ë¥¼ ì§€ì •í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ state íŒŒì¼ì„ ì§€ì •í•œë‹¤.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">terraform destroy -state=terraform.tfstate.d/myworkspace1/terraform.tfstate</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¥ë‹¨ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><p><strong>ì¥ì </strong></p><ul><li>í•˜ë‚˜ì˜ ë£¨íŠ¸ ëª¨ë“ˆì—ì„œ ë‹¤ë¥¸ í™˜ê²½ì„ ìœ„í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ë™ì¼í•œ í…Œë¼í¼ êµ¬ì„±ìœ¼ë¡œ í”„ë¡œë¹„ì €ë‹í•˜ê³  ê´€ë¦¬</li><li>ê¸°ì¡´ í”„ë¡œë¹„ì €ë‹ëœ í™˜ê²½ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ë³€ê²½ ì‚¬í•­ ì‹¤í—˜ ê°€ëŠ¥</li><li>ê¹ƒìœ¼ ë¸Œëœì¹˜ ì „ëµì²˜ëŸ¼ ë™ì¼í•œ êµ¬ì„±ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ ê²°ê³¼ ê´€ë¦¬</li></ul><p><strong>ë‹¨ì </strong></p><ul><li>satte ê°€ ë™ì¼í•œ ì €ì¥ì†Œ(ë¡œì»¬ ë˜ëŠ” ë°±ì—”ë“œ)ì— ì €ì¥ë˜ì–´ state ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬ê°€ ë¶ˆê°€ëŠ¥</li><li>ëª¨ë“  í™˜ê²½ì´ ë™ì¼í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”êµ¬í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ í…Œë¼í¼ êµ¬ì„±ì— ë¶„ê¸° ì²˜ë¦¬ê°€ ë‹¤ìˆ˜ ë°œìƒ ê°€ëŠ¥</li><li>í”„ë¡œë¹„ì €ë‹ ëŒ€ìƒì— ëŒ€í•œ ì¸ì¦ ìš”ì†Œë¥¼ ì™„ë²½íˆ ë¶„ë¦¬í•˜ê¸° ì–´ë ¤ì›€</li></ul><h1 id="á„†á…©á„ƒá…²á†¯" tabindex="-1"><a class="header-anchor" href="#á„†á…©á„ƒá…²á†¯"><span>ëª¨ë“ˆ</span></a></h1><p><strong>ëª¨ë“ˆ êµ¬ì¡° (ì˜ˆì‹œ)</strong></p><p><img src="/images/2025-03-08-terraform/image-20250310233826614.png" alt="image-20250310233826614"></p><p><strong>06-01-basic/main.tf</strong></p><div class="language-terraform line-numbers-mode" data-highlighter="prismjs" data-ext="terraform" data-title="terraform"><pre><code><span class="line">module &quot;mypw1&quot; {</span>
<span class="line">    source = &quot;../modules/terraform-random-pwgen&quot;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">module &quot;mypw2&quot; {</span>
<span class="line">    source = &quot;../modules/terraform-random-pwgen&quot;</span>
<span class="line">    isDB = true</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;pw1&quot; {</span>
<span class="line">    value = module.mypw1</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">output &quot;pw2&quot; {</span>
<span class="line">    value = module.mypw2</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="á„†á…©á„ƒá…²á†¯-á„‰á…¡á„‹á…­á†¼-á„‡á…¡á†¼á„‰á…µá†¨" tabindex="-1"><a class="header-anchor" href="#á„†á…©á„ƒá…²á†¯-á„‰á…¡á„‹á…­á†¼-á„‡á…¡á†¼á„‰á…µá†¨"><span>ëª¨ë“ˆ ì‚¬ìš© ë°©ì‹</span></a></h2><h3 id="á„†á…©á„ƒá…²á†¯á„€á…ª-á„‘á…³á„…á…©á„‡á…¡á„‹á…µá„ƒá…¥" tabindex="-1"><a class="header-anchor" href="#á„†á…©á„ƒá…²á†¯á„€á…ª-á„‘á…³á„…á…©á„‡á…¡á„‹á…µá„ƒá…¥"><span>ëª¨ë“ˆê³¼ í”„ë¡œë°”ì´ë”</span></a></h3><ol><li>ìì‹ ëª¨ë“ˆì—ì„œ í”„ë¡œë°”ì´ë” ì •ì˜ <ol><li><strong>ëª¨ë“ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œë°”ì´ë” ë²„ì „ê³¼ êµ¬ì„± ìƒì„¸ë¥¼ ìì‹ ëª¨ë“ˆì— ê³ ì •í•˜ëŠ” ë°©ë²•.</strong> ë™ì¼í•œ í”„ë¡œë°”ì´ë”ê°€ ë£¨íŠ¸ì™€ ìì‹ ì–‘ìª½ì— ë˜ëŠ” ì„œë¡œ ë‹¤ë¥¸ ìì‹ ëª¨ë“ˆì— ë²„ì „ ì¡°ê±´ í•©ì˜ê°€ ì•ˆë˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê³  ëª¨ë“ˆì— ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ë‹¨ì </li><li><strong>ë£¨íŠ¸ ëª¨ë“ˆì—ì„œ í”„ë¡œë°”ì´ë” ì •ì˜</strong>. (ê¶Œì¥)</li></ol></li></ol><nav class="vp-page-nav" aria-label="page navigation" data-v-63cabaa2><!----><!----></nav></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DX7et0cg.js" defer></script>
  </body>
</html>
