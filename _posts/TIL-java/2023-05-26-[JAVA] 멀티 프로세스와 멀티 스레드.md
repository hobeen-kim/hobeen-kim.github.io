---
categories: "TIL-java"
tag: ["java", "multi process", "process", "multi thread", "thread"]
---

# 프로세스와 스레드

## 프로세스

pcb + 메모리 확보





## 스레드

공유되는 자원을 가지는 프로세스

사용자 스레드와 커널 스레드로 나뉘어짐

# 

# 멀티 프로세스와 멀티 스레드

## 멀티 프로세스

다수의 프로세스를 동시에 실행하기 위해 시분할로 전환하여 실행

컨테스트 스위칭

## 멀티 스레드

한 어플리케이션에서 작업의 단위가 나눠질 떄 



## vs

멀티 프로세스

- 각 프로세스는 독립적
- IPC 를 사용한 통신
- 자원 소모적, 개별 메모리 차지
- context switching 비용이 큼
- 동기화 작업이 필요하지 않음

멀티 스레드

- thread 끼리 긴밀하게 연결되어 있음
- 공유된 자원으로 통신 비용 절감
- 공유된 자원으로 메모리가 효율적
- context switching 비용이 적음
- 공유자원 관리를 해야함

멀티프로세스는 왜 사용할까

- 긴밀하게 연결되어있기 때문에 한 스레드에 문제가 생기면 프로세스 전체에 영향을 받는다.

멀티 코어

- 멀티 코어는 동시에 하나 이상의 프로세스가 한꺼번에 진행되는 것

리눅스에는 프로세스와 스레드를 동일하게 봅니다.

- 사용자 스레드 당 커널 스레드 하나가 매칭이 됨 그래서 리눅스 커널 입장에서는 각각의 스레드가 하나의 프로세스다. 하지만 여기서 프로세스는 메모리를 공유하기 때문에 light weight process 로 구분됨
- 리눅스에는 pid (process id), tgid(thread group id), tid(thread id) 가 있는데 사용자 입장에서는 pid 로 보이고 커널 입장에서는 tid 로 보인다. 따라서 스레드별로 Pid 는 같아서 같은 프로세스로 보이지만 커널 입장에서는 다 다른 tid 를 가지고 있다.